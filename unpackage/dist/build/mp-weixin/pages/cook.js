"use strict";const e=require("../common/vendor.js");if(!Array){(e.resolveComponent("uv-search")+e.resolveComponent("uv-drop-down-item")+e.resolveComponent("uv-drop-down-popup")+e.resolveComponent("uv-drop-down"))()}Math||((()=>"../uni_modules/uv-search/components/uv-search/uv-search.js")+(()=>"../uni_modules/uv-drop-down/components/uv-drop-down-item/uv-drop-down-item.js")+(()=>"../uni_modules/uv-drop-down/components/uv-drop-down-popup/uv-drop-down-popup.js")+(()=>"../uni_modules/uv-drop-down/components/uv-drop-down/uv-drop-down.js")+o)();const o=()=>"../components/tab-bar/tabBar.js",a={__name:"cook",setup(o){const a=e.ref("");e.nextTick$1((()=>{a.value=e.index.getSystemInfoSync().windowHeight})),e.onShow((()=>{}));const l=e.ref([]);e.ref([""]);const n=e.ref(new Set);e.ref([{name:"煮锅",value:"cook1",disabled:!1},{name:"烤架",value:"cook2",disabled:!1},{name:"油锅",value:"cook3",disabled:!1},{name:"蒸锅",value:"cook4",disabled:!1},{name:"料理台",value:"cook5",disabled:!1}]);const r=e.ref({label:"默认排序",value:"normal"}),t=e.ref({label:"默认排序",value:"normal",activeIndex:0,color:"#dbaa9b",activeColor:"#d3aa76",child:[{label:"默认排序",value:"normal"},{label:"价格升序",value:"moneyUp"},{label:"价格降序",value:"moneyDown"}]}),u=e=>{r.value.label=e.label,r.value.value=e.value,h()};e.ref(e.index.getStorageSync("cookTagData")),e.ref(e.index.getStorageSync("cookTagData"));const v=e.ref(e.index.getStorageSync("cookData")),c=e.ref(e.index.getStorageSync("materialData")),d=e.ref(new Set);e.ref(new Set);c.value.forEach((e=>{e.tag.split(",").forEach((e=>{e.trim()&&d.value.add(e.trim())}))}));const s=e.ref(""),i=e.ref(new Set),p=e.ref(new Set),m=e.ref(new Set),f=e.ref(""),h=e=>{s.value=v.value.filter((e=>{if(f.value&&!e.chinese.includes(f.value))return!1;let o=e.tag.split(","),a=e.material.split(","),l=[...i.value].concat();[...p.value].concat();let r=[...m.value].concat(),t=new Set;return!(o.length<i.value.size)&&(!(n.value.size>0&&!n.value.has(e.cooker))&&(o.forEach((e=>{l=l.filter((o=>o!==e.trim())),p.value.forEach((o=>{o===e.trim()&&t.add(o)}))})),a.forEach((e=>{r=r.filter((o=>o!==e.trim()))})),0===l.length&&0===t.size&&0===r.length))})),"moneyUp"===r.value.value?s.value=s.value.sort(((e,o)=>e.money-o.money)):"moneyDown"===r.value.value&&(s.value=s.value.sort(((e,o)=>-(e.money-o.money)))),(()=>{l.value.splice(0);let e=s.value.length<20?s.value.length:20;for(let o=0;o<e;o++)l.value.push(s.value[o]);setTimeout((()=>{l.value=s.value}),100)})()};return h(),e.ref(!1),e.ref(""),(o,l)=>({a:e.o((e=>h())),b:e.o((e=>f.value=e)),c:e.p({placeholder:"请输入料理名称",bgColor:"#8D6549",borderColor:"#FBEFCB",searchIconColor:"#e0afa0",color:"#e0afa0",showAction:!1,height:"55rpx",modelValue:f.value}),d:e.p({name:"normal",type:"2",label:r.value.label,value:r.value.value}),e:e.o(u),f:e.p({sign:"cookSort",currentDropItem:t.value}),g:e.p({sign:"cookSort","text-color":"#dbaa9b","text-active-color":"#d3aa76",defaultValue:[0,"0","normal"]}),h:a.value-55+"px",i:e.p({selected:1})})}},l=e._export_sfc(a,[["__scopeId","data-v-44808bff"]]);wx.createPage(l);
