"use strict";const e=require("../common/vendor.js"),a=require("../js/common.js");if(!Array){(e.resolveComponent("uv-scroll-list")+e.resolveComponent("GlobalChatButton"))()}Math||((()=>"../uni_modules/uv-scroll-list/components/uv-scroll-list/uv-scroll-list.js")+t+(()=>"../components/GlobalChatButton/GlobalChatButton.js"))();const t=()=>"../components/tab-bar/tabBar.js",l={__name:"npc",emits:["openItem"],setup(t,{emit:l}){const o=e.ref("");e.nextTick$1((()=>{o.value=e.index.getSystemInfoSync().windowHeight})),e.onShow((()=>{}));a.initCache();const n=e.ref(e.index.getStorageSync("locationData")),r=e.ref(e.index.getStorageSync("npcData"));e.ref(!0);const c=e.ref(new Set),s=e.ref([]),u=e=>{if("全部"!==e){if(c.value.has(e))return c.value.delete(e),c.value.clear(),c.value.add("全部"),void(s.value=r.value);c.value.clear(),c.value.add(e),s.value=r.value.filter((e=>{let a=e.location.split(","),t=[...c.value].concat();return a.forEach((e=>{t=t.filter((a=>a!==e.trim()))})),0===t.length}))}else c.value.clear(),c.value.add(e),s.value=r.value};u("全部");const i=e.ref(!1);e.onPageScroll((e=>{e.scrollTop>=300?i.value=!0:i.value=!1}));const v=()=>{e.index.pageScrollTo({scrollTop:0,duration:150})};return(a,t)=>e.e({a:c.value.has("全部")},(c.value.has("全部"),{}),{b:e.o((e=>u("全部"))),c:e.f(n.value,((a,t,l)=>e.e({a:e.t(a),b:c.value.has(a)},(c.value.has(a),{}),{c:a,d:e.o((e=>u(a)),a)}))),d:e.p({indicator:!1}),e:e.f(s.value,((a,t,l)=>({a:"/static/img/npc/"+a.name+".png",b:e.o((e=>{}),a.name),c:a.name,d:e.o((t=>{return l=a,e.index.setStorageSync("selectNpc",l),void e.index.navigateTo({url:"/pages/npcItem"});var l}),a.name)}))),f:o.value-95+"px",g:i.value},i.value?{h:e.o(v)}:{},{i:o.value-44+"px",j:e.p({selected:0})})}},o=e._export_sfc(l,[["__scopeId","data-v-d9e1fa8c"]]);l.__runtimeHooks=1,wx.createPage(o);
