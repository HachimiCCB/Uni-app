"use strict";const t=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),i=require("../../../uv-ui-tools/libs/mixin/mixin.js"),e=require("./props.js"),n=require("../../../../common/vendor.js"),o={name:"uv-row-notice",emits:["click","close"],mixins:[t.mpMixin,i.mixin,e.props],data:()=>({animationDuration:"0",animationPlayState:"paused",nvueInit:!0,show:!0}),watch:{text:{immediate:!0,handler(t,i){this.vue(),this.$uv.test.string(t)||this.$uv.error("noticebar组件direction为row时，要求text参数为字符串形式")}},fontSize(){this.vue()},speed(){this.vue()}},computed:{textStyle(){let t={};return t.color=this.color,t.fontSize=this.$uv.addUnit(this.fontSize),t},animationStyle(){let t={};return t.animationDuration=this.animationDuration,t.animationPlayState=this.animationPlayState,t},innerText(){let t=[];const i=this.text?this.text.split(""):[];for(let e=0;e<i.length;e+=20)t.push(i.slice(e,e+20).join(""));return t}},mounted(){this.init()},methods:{init(){this.vue(),this.$uv.test.string(this.text)||this.$uv.error("noticebar组件direction为row时，要求text参数为字符串形式")},async vue(){let t=0;await this.$uv.sleep(),t=(await this.$uvGetRect(".uv-notice__content__text")).width,(await this.$uvGetRect(".uv-notice__content")).width,this.animationDuration=t/this.$uv.getPx(this.speed)+"s",this.animationPlayState="paused",setTimeout((()=>{this.animationPlayState="running"}),10)},async nvue(){},loopAnimation(t,i){},getNvueRect(t){},clickHandler(t){this.$emit("click")},close(){this.$emit("close")}}};if(!Array){n.resolveComponent("uv-icon")()}Math;const s=n._export_sfc(o,[["render",function(t,i,e,o,s,a){return n.e({a:t.icon},t.icon?{b:n.p({name:t.icon,color:t.color,size:"19"})}:{},{c:n.f(a.innerText,((t,i,e)=>({a:n.t(t),b:i}))),d:n.s(a.textStyle),e:n.s(a.animationStyle),f:["link","closable"].includes(t.mode)},["link","closable"].includes(t.mode)?n.e({g:"link"===t.mode},"link"===t.mode?{h:n.p({name:"arrow-right",size:17,color:t.color})}:{},{i:"closable"===t.mode},"closable"===t.mode?{j:n.o(a.close),k:n.p({name:"close",size:16,color:t.color})}:{}):{},{l:n.o(((...t)=>a.clickHandler&&a.clickHandler(...t)))})}],["__scopeId","data-v-f581b263"]]);wx.createComponent(s);
