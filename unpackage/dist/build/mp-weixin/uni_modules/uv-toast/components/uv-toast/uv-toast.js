"use strict";const t=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),o=require("../../../uv-ui-tools/libs/mixin/mixin.js"),e=require("../../../../common/vendor.js"),i={name:"uv-toast",mixins:[t.mpMixin,o.mixin],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!0,loading:!1,zIndex:10090},tmpConfig:{},rect:{},opacity:0}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?this.$uv.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",zIndex:this.tmpConfig.zIndex,backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},aniStyle(){return{position:"fixed",zIndex:this.tmpConfig.zIndex}},contentStyle(){this.$uv.sys();const t={position:"fixed",top:"50%",left:"50%"};let o=0;return"top"===this.tmpConfig.position?t.top="25%":"bottom"===this.tmpConfig.position?t.top="75%":o="-50%",t.transform=`translate(-50%,${o})`,t}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=this.$uv.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},queryRect(){return new Promise((t=>{const o=this.$refs.uvToastContent;dom.getComponentRect(o,(o=>{t(o.size)}))}))},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},unmounted(){this.clearTimer()}};if(!Array){(e.resolveComponent("uv-overlay")+e.resolveComponent("uv-loading-icon")+e.resolveComponent("uv-icon")+e.resolveComponent("uv-gap")+e.resolveComponent("uv-transition"))()}Math||((()=>"../../../uv-overlay/components/uv-overlay/uv-overlay.js")+(()=>"../../../uv-loading-icon/components/uv-loading-icon/uv-loading-icon.js")+(()=>"../../../uv-icon/components/uv-icon/uv-icon.js")+(()=>"../../../uv-gap/components/uv-gap/uv-gap.js")+(()=>"../../../uv-transition/components/uv-transition/uv-transition.js"))();const n=e._export_sfc(i,[["render",function(t,o,i,n,s,r){return e.e({a:e.p({show:s.isShow&&s.tmpConfig.overlay,"custom-style":r.overlayStyle}),b:"loading"===s.tmpConfig.type},"loading"===s.tmpConfig.type?{c:e.p({mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})}:"defalut"!==s.tmpConfig.type&&r.iconName?{e:e.p({name:r.iconName,size:"17",color:s.tmpConfig.type,customStyle:r.iconStyle})}:{},{d:"defalut"!==s.tmpConfig.type&&r.iconName,f:"loading"===s.tmpConfig.type||s.tmpConfig.loading},"loading"===s.tmpConfig.type||s.tmpConfig.loading?{g:e.p({height:"12",bgColor:"transparent"})}:{},{h:e.t(s.tmpConfig.message),i:e.n("uv-toast__content__text--"+s.tmpConfig.type),j:e.s(r.contentStyle),k:e.n("uv-type-"+s.tmpConfig.type),l:e.n("loading"===s.tmpConfig.type||s.tmpConfig.loading?"uv-toast__content--loading":""),m:e.p({show:s.isShow,mode:"fade","custom-style":r.aniStyle})})}],["__scopeId","data-v-618db97c"]]);wx.createComponent(n);
