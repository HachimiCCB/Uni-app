import{a as t,o as e,h as a,w as s,b as i,c as o,F as n,B as c,d as l,f as r,t as d,i as h,D as u,C as p,G as m,j as v,r as b,ae as g,k as _,a7 as f,E as x}from"./index-yJ4PhItL.js";import{m as y,a as P,_ as k}from"./uv-icon.BQxwY_F2.js";import{r as C}from"./uni-app.es.B94_6v_V.js";import{_ as D,a as S}from"./uv-safe-bottom.gY7JiN5M.js";import{p as $,a as I}from"./tabBar.vue_vue_type_style_index_0_scoped_8fa15eba_lang.CPwMltbA.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const z=w({name:"uv-tabbar-item",mixins:[y,P,$],emits:["click","change"],data:()=>({isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:"",iconSize:20}}),created(){this.init()},methods:{init(){this.updateParentData(),this.parent||this.$uv.error("uv-tabbar-item必须搭配uv-tabbar组件使用");const t=this.parent.children.indexOf(this);this.isActive=(this.name||t)===this.parentData.value},updateParentData(){this.getParentData("uv-tabbar")},updateFromParent(){this.init()},clickHandler(){this.$nextTick((()=>{const t=this.parent.children.indexOf(this),e=this.name||t;e!==this.parent.value&&this.parent.$emit("change",e),this.$emit("click",e)}))}}},[["render",function(p,m,v,b,g,_){const f=C(t("uv-icon"),k),x=C(t("uv-badge"),D),y=h,P=u;return e(),a(y,{class:"uv-tabbar-item",style:l([p.$uv.addStyle(p.customStyle)]),onClick:_.clickHandler},{default:s((()=>[i(y,{class:"uv-tabbar-item__icon"},{default:s((()=>[p.icon?(e(),a(f,{key:0,name:p.icon,color:g.isActive?g.parentData.activeColor:g.parentData.inactiveColor,size:p.iconSize?p.iconSize:g.parentData.iconSize},null,8,["name","color","size"])):(e(),o(n,{key:1},[g.isActive?c(p.$slots,"active-icon",{key:0},void 0,!0):c(p.$slots,"inactive-icon",{key:1},void 0,!0)],64)),i(x,{absolute:"",offset:[0,p.dot?"34rpx":p.badge>9?"14rpx":"20rpx"],customStyle:p.badgeStyle,isDot:p.dot,value:p.badge||(p.dot?1:null),show:p.dot||p.badge>0},null,8,["offset","customStyle","isDot","value","show"])])),_:3}),c(p.$slots,"text",{},(()=>[i(P,{class:"uv-tabbar-item__text",style:l({color:g.isActive?g.parentData.activeColor:g.parentData.inactiveColor})},{default:s((()=>[r(d(p.text),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-2be3e003"]]);const H=w({name:"uv-tabbar",mixins:[y,P,I],data:()=>({placeholderHeight:0}),computed:{tabbarStyle(){const t={zIndex:this.zIndex};return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))},updateChild(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder(){return[this.fixed,this.placeholder]}},watch:{updateChild(){this.updateChildren()},updatePlaceholder(){this.setPlaceholderHeight()}},created(){this.children=[]},mounted(){this.setPlaceholderHeight()},methods:{updateChildren(){this.children.length&&this.children.map((t=>t.updateFromParent()))},async setPlaceholderHeight(){this.fixed&&this.placeholder&&(await this.$uv.sleep(20),this.$uvGetRect(".uv-tabbar__content").then((({height:t=50})=>{this.placeholderHeight=t})))}}},[["render",function(o,n,r,d,u,b){const g=h,_=C(t("uv-safe-bottom"),S);return e(),a(g,{class:"uv-tabbar"},{default:s((()=>[i(g,{class:p(["uv-tabbar__content",[o.border&&"uv-border-top",o.fixed&&"uv-tabbar--fixed"]]),ref:"uv-tabbar__content",onTouchmove:m(o.noop,["stop","prevent"]),style:l([b.tabbarStyle])},{default:s((()=>[i(g,{class:"uv-tabbar__content__item-wrapper"},{default:s((()=>[c(o.$slots,"default",{},void 0,!0)])),_:3}),o.safeAreaInsetBottom?(e(),a(_,{key:0})):v("",!0)])),_:3},8,["onTouchmove","class","style"]),o.placeholder?(e(),a(g,{key:0,class:"uv-tabbar__placeholder",style:l({height:u.placeholderHeight+"px"})},null,8,["style"])):v("",!0)])),_:3})}],["__scopeId","data-v-274aef2b"]]),j=w({__name:"tabBar",props:{selected:{type:Number,default:0}},setup(c){const l=c,u=b([{id:0,pagePath:"/pages/npc",iconPath:"/static/img/common/npc-1.png",selectedIconPath:"/static/img/common/npc-0.png",text:"人物"},{id:1,pagePath:"/pages/cook",iconPath:"/static/img/common/food-1.png",selectedIconPath:"/static/img/common/food-0.png",text:"料理"},{id:2,pagePath:"/pages/drinks",iconPath:"/static/img/common/drinks-1.png",selectedIconPath:"/static/img/common/drinks-0.png",text:"饮品"},{id:3,pagePath:"/pages/article",iconPath:"/static/img/common/comments-1.png",selectedIconPath:"/static/img/common/comments-0.png",text:"分享"},{id:4,pagePath:"/pages/setting",iconPath:"/static/img/common/setting-1.png",selectedIconPath:"/static/img/common/setting-0.png",text:"设置"}]),p=t=>{f({url:u.value[t].pagePath})};return g(),(c,m)=>{const v=x,b=h,g=C(t("uv-tabbar-item"),z),f=C(t("uv-tabbar"),H);return e(),a(b,{class:"tab-bar"},{default:s((()=>[i(f,{value:l.selected,onChange:p},{default:s((()=>[(e(!0),o(n,null,_(u.value,(t=>(e(),a(g,{key:t.id,class:"tab-item"},{"active-icon":s((()=>[i(v,{src:t.selectedIconPath,style:{"border-radius":"30px",width:"50px",height:"50px"},mode:"scaleToFill"},null,8,["src"]),i(b,{class:"text-overlay"},{default:s((()=>[r(d(t.text),1)])),_:2},1024)])),"inactive-icon":s((()=>[i(v,{src:t.iconPath,style:{"border-radius":"30px",width:"50px",height:"50px"},mode:"scaleToFill"},null,8,["src"]),i(b,{class:"text-overlay"},{default:s((()=>[r(d(t.text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["value"])])),_:1})}}},[["__scopeId","data-v-8fa15eba"]]);export{j as t};
