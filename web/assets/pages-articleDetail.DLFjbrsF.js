import{r as e,a1 as a,a as t,h as s,w as l,i as r,o,b as c,f as _,t as i,j as u,c as n,k as d,F as f,D as p,E as m,aa as g}from"./index-BBHsMkl9.js";import{_ as v}from"./unicloud-db.jg8Ywu0D.js";import{c as b,r as h}from"./uni-app.es.DcEqF3_b.js";import"./uv-icon.vue_vue_type_style_index_0_scoped_eab170a5_lang.DCSa3_gx.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-safe-bottom.vue_vue_type_style_index_0_scoped_71c4b1ce_lang.DIKD1uNm.js";import"./tabBar.vue_vue_type_style_index_0_scoped_8fa15eba_lang.CPwMltbA.js";const x=y({__name:"articleDetail",setup(y){const x=e({}),j=e=>{if(!e)return"";const a=new Date(e);return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`};return b((e=>{e.id?x.value=`_id == "${e.id}"`:a({title:"缺少文章ID",icon:"none"})})),(e,a)=>{const b=r,y=p,D=m,k=g,w=h(t("unicloud-db"),v);return o(),s(b,{class:"article-container"},{default:l((()=>[c(w,{ref:"udb",where:x.value,collection:"article",field:"_id, title, author, content, coverImage, tags, publishDate",getone:!0},{default:l((({data:e,loading:a,error:t})=>[a?(o(),s(b,{key:0,class:"loading-text"},{default:l((()=>[_("加载中...")])),_:1})):t?(o(),s(b,{key:1,class:"error-text"},{default:l((()=>[_("加载失败，请稍后再试。")])),_:1})):e?(o(),s(b,{key:2},{default:l((()=>[c(b,{class:"article-title"},{default:l((()=>[_(i(e.title),1)])),_:2},1024),c(b,{class:"article-meta"},{default:l((()=>[c(y,{class:"author"},{default:l((()=>[_("作者："+i(e.author),1)])),_:2},1024),c(y,{class:"date"},{default:l((()=>[_(i(j(e.publishDate)),1)])),_:2},1024)])),_:2},1024),e.coverImage?(o(),s(D,{key:0,src:e.coverImage,class:"cover-image",mode:"widthFix"},null,8,["src"])):u("",!0),c(b,{class:"article-content"},{default:l((()=>[c(k,{nodes:e.content},null,8,["nodes"])])),_:2},1024),c(b,{class:"article-tags"},{default:l((()=>[(o(!0),n(f,null,d(e.tags,(e=>(o(),s(y,{key:e,class:"tag"},{default:l((()=>[_(i(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)):u("",!0)])),_:1},8,["where"])])),_:1})}}},[["__scopeId","data-v-b33e27b1"]]);export{x as default};
