var t,l;import{o as i,h as r,w as o,b as s,B as a,d as e,i as n,S as c}from"./index-BBHsMkl9.js";import{m as d,a as u}from"./uv-icon.CNdQXE0P.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _={props:{indicatorWidth:{type:[String,Number],default:50},indicatorBarWidth:{type:[String,Number],default:20},indicator:{type:Boolean,default:!0},indicatorColor:{type:String,default:"#f2f2f2"},indicatorActiveColor:{type:String,default:"#3c9cff"},indicatorStyle:{type:[String,Object],default:""},...null==(l=null==(t=uni.$uv)?void 0:t.props)?void 0:l.scrollList}};function p(t,l,i){t.selectComponent(".uv-scroll-list__indicator__line__bar")&&t.selectComponent(".uv-scroll-list__indicator__line__bar").setStyle({transform:"rpx"==i?"translateX("+l+"rpx)":"translateX("+l+"px)"})}const v={scroll:function(t,l){var i=t.detail,r=i.scrollWidth,o=i.scrollLeft,s=t.currentTarget.dataset;p(l,o/(r-(s.scrollWidth||s.scrollwidth||0))*((s.indicatorWidth||s.indicatorwidth||0)-(s.barWidth||s.barwidth||0)),s.unit)},scrolltolower:function(t,l){l.callMethod("scrollEvent","right");var i=t.currentTarget.dataset;p(l,(i.indicatorWidth||i.indicatorwidth||0)-(i.barWidth||i.barwidth||0),i.unit)},scrolltoupper:function(t,l){var i=t.currentTarget.dataset;l.callMethod("scrollEvent","left"),p(l,0,i.unit)}},f=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("wxs"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.wxs=v}})},w={name:"uv-scroll-list",mixins:[d,u,_],data:()=>({scrollInfo:{scrollLeft:0,scrollWidth:0},scrollWidth:0}),computed:{barStyle(){const t={};return t.width=this.$uv.addUnit(this.indicatorBarWidth),t.backgroundColor=this.indicatorActiveColor,t},lineStyle(){const t={};return t.width=this.$uv.addUnit(this.indicatorWidth),t.backgroundColor=this.indicatorColor,t}},mounted(){this.init()},methods:{init(){this.getComponentWidth()},scrollEvent(t){this.$emit(t)},async getComponentWidth(){await this.$uv.sleep(30),this.$uvGetRect(".uv-scroll-list").then((t=>{this.scrollWidth=t.width}))}}};f(w);const m=h(w,[["render",function(t,l,d,u,h,_){const p=n,v=c;return i(),r(p,{class:"uv-scroll-list",ref:"uv-scroll-list"},{default:o((()=>[s(v,{class:"uv-scroll-list__scroll-view","scroll-x":"",onScroll:t.wxs.scroll,onScrolltoupper:t.wxs.scrolltoupper,onScrolltolower:t.wxs.scrolltolower,"data-scrollWidth":h.scrollWidth,"data-barWidth":t.$uv.getPx(t.indicatorBarWidth),"data-indicatorWidth":t.$uv.getPx(t.indicatorWidth),"show-scrollbar":!1,"upper-threshold":0,"lower-threshold":0,"data-unit":t.$uv.unit},{default:o((()=>[s(p,{class:"uv-scroll-list__scroll-view__content"},{default:o((()=>[a(t.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["onScroll","onScrolltoupper","onScrolltolower","data-scrollWidth","data-barWidth","data-indicatorWidth","data-unit"]),t.indicator?(i(),r(p,{key:0,class:"uv-scroll-list__indicator",style:e([t.$uv.addStyle(t.indicatorStyle)])},{default:o((()=>[s(p,{class:"uv-scroll-list__indicator__line",style:e([_.lineStyle])},{default:o((()=>[s(p,{class:"uv-scroll-list__indicator__line__bar",style:e([_.barStyle]),ref:"uv-scroll-list__indicator__line__bar"},null,8,["style"])])),_:1},8,["style"])])),_:1},8,["style"])):(i(),r(p,{key:1,class:"uv-scroll-list__indicator__line__bar"}))])),_:3},512)}],["__scopeId","data-v-0738e35e"]]);export{m as _};
