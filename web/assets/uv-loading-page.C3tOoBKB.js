var t,e,o,i,n,l,a,s,r,c;import{m as u,a as d,_ as p}from"./uv-icon.CNdQXE0P.js";import{a as m,o as g,h,w as y,B as f,b as v,j as S,d as _,c as C,F as b,k as x,f as k,t as w,i as $,D as z,I as T,J as N,C as B,E as I}from"./index-BBHsMkl9.js";import{r as P}from"./uni-app.es.DcEqF3_b.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{b as U,c as R,_ as D}from"./uv-modal.CD3-e-wg.js";const M=j({emits:["click","close","change"],mixins:[u,d,{props:{text:{type:[Array],default:""},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},fontSize:{type:[String,Number],default:14},speed:{type:[String,Number],default:80},step:{type:Boolean,default:!1},duration:{type:[String,Number],default:1500},disableTouch:{type:Boolean,default:!0},disableScroll:{type:Boolean,default:!1},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.columnNotice}}],watch:{text:{immediate:!0,handler(t,e){this.$uv.test.array(t)||this.$uv.error("noticebar组件direction为column时，要求text参数为数组形式")}}},computed:{textStyle(){let t={};return t.color=this.color,t.fontSize=this.$uv.addUnit(this.fontSize),t},vertical(){return"horizontal"!=this.mode},swiperStyle:()=>({})},data:()=>({index:0}),methods:{noticeChange(t){this.index=t.detail.current,this.$emit("change",this.index)},clickHandler(){this.$emit("click",this.index)},close(){this.$emit("close")}}},[["render",function(t,e,o,i,n,l){const a=P(m("uv-icon"),p),s=$,r=z,c=T,u=N;return g(),h(s,{class:"uv-notice",onClick:l.clickHandler},{default:y((()=>[f(t.$slots,"icon",{},(()=>[t.icon?(g(),h(s,{key:0,class:"uv-notice__left-icon"},{default:y((()=>[v(a,{name:t.icon,color:t.color,size:"19"},null,8,["name","color"])])),_:1})):S("",!0)]),!0),v(u,{"disable-touch":t.disableTouch,vertical:!t.step,circular:"",interval:t.duration,autoplay:!t.disableScroll,class:"uv-notice__swiper",style:_([l.swiperStyle]),onChange:l.noticeChange},{default:y((()=>[(g(!0),C(b,null,x(t.text,((t,e)=>(g(),h(c,{key:e,class:"uv-notice__swiper__item"},{default:y((()=>[v(r,{class:"uv-notice__swiper__item__text uv-line-1",style:_([l.textStyle])},{default:y((()=>[k(w(t),1)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["disable-touch","vertical","interval","autoplay","style","onChange"]),["link","closable"].includes(t.mode)?(g(),h(s,{key:0,class:"uv-notice__right-icon"},{default:y((()=>["link"===t.mode?(g(),h(a,{key:0,name:"arrow-right",size:17,color:t.color},null,8,["color"])):S("",!0),"closable"===t.mode?(g(),h(a,{key:1,name:"close",size:16,color:t.color,onClick:l.close},null,8,["color","onClick"])):S("",!0)])),_:1})):S("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-23099dc5"]]);const H=j({name:"uv-row-notice",emits:["click","close"],mixins:[u,d,{props:{text:{type:String,default:""},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},fontSize:{type:[String,Number],default:14},speed:{type:[String,Number],default:80},...null==(i=null==(o=uni.$uv)?void 0:o.props)?void 0:i.rowNotice}}],data:()=>({animationDuration:"0",animationPlayState:"paused",nvueInit:!0,show:!0}),watch:{text:{immediate:!0,handler(t,e){this.vue(),this.$uv.test.string(t)||this.$uv.error("noticebar组件direction为row时，要求text参数为字符串形式")}},fontSize(){this.vue()},speed(){this.vue()}},computed:{textStyle(){let t={};return t.color=this.color,t.fontSize=this.$uv.addUnit(this.fontSize),t},animationStyle(){let t={};return t.animationDuration=this.animationDuration,t.animationPlayState=this.animationPlayState,t},innerText(){let t=[];const e=this.text?this.text.split(""):[];for(let o=0;o<e.length;o+=20)t.push(e.slice(o,o+20).join(""));return t}},mounted(){this.init()},methods:{init(){this.vue(),this.$uv.test.string(this.text)||this.$uv.error("noticebar组件direction为row时，要求text参数为字符串形式")},async vue(){let t=0;await this.$uv.sleep(),t=(await this.$uvGetRect(".uv-notice__content__text")).width,(await this.$uvGetRect(".uv-notice__content")).width,this.animationDuration=t/this.$uv.getPx(this.speed)+"s",this.animationPlayState="paused",setTimeout((()=>{this.animationPlayState="running"}),10)},async nvue(){},loopAnimation(t,e){},getNvueRect(t){},clickHandler(t){this.$emit("click")},close(){this.$emit("close")}}},[["render",function(t,e,o,i,n,l){const a=P(m("uv-icon"),p),s=$,r=z;return g(),h(s,{class:"uv-notice",onClick:l.clickHandler},{default:y((()=>[f(t.$slots,"icon",{},(()=>[t.icon?(g(),h(s,{key:0,class:"uv-notice__left-icon"},{default:y((()=>[v(a,{name:t.icon,color:t.color,size:"19"},null,8,["name","color"])])),_:1})):S("",!0)]),!0),v(s,{class:"uv-notice__content",ref:"uv-notice__content"},{default:y((()=>[v(s,{ref:"uv-notice__content__text",class:"uv-notice__content__text",style:_([l.animationStyle])},{default:y((()=>[(g(!0),C(b,null,x(l.innerText,((t,e)=>(g(),h(r,{key:e,style:_([l.textStyle])},{default:y((()=>[k(w(t),1)])),_:2},1032,["style"])))),128))])),_:1},8,["style"])])),_:1},512),["link","closable"].includes(t.mode)?(g(),h(s,{key:0,class:"uv-notice__right-icon"},{default:y((()=>["link"===t.mode?(g(),h(a,{key:0,name:"arrow-right",size:17,color:t.color},null,8,["color"])):S("",!0),"closable"===t.mode?(g(),h(a,{key:1,onClick:l.close,name:"close",size:16,color:t.color},null,8,["onClick","color"])):S("",!0)])),_:1})):S("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-f581b263"]]);const L=j({name:"uv-notice-bar",emits:["click","close","change"],mixins:[u,d,{props:{text:{type:[Array,String],default:()=>[]},direction:{type:String,default:"row"},step:{type:Boolean,default:!1},icon:{type:[String,Boolean,null],default:"volume"},mode:{type:String,default:""},color:{type:String,default:"#f9ae3d"},bgColor:{type:String,default:"#fdf6ec"},speed:{type:[String,Number],default:80},fontSize:{type:[String,Number],default:14},duration:{type:[String,Number],default:2e3},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"},disableTouch:{type:Boolean,default:!0},disableScroll:{type:Boolean,default:!1},...null==(l=null==(n=uni.$uv)?void 0:n.props)?void 0:l.noticeBar}}],data:()=>({show:!0}),methods:{click(t){this.$emit("click",t),this.url&&this.linkType&&this.openPage()},close(){this.show=!1,this.$emit("close")},change(t){this.$emit("change",t)}}},[["render",function(t,e,o,i,n,l){const a=P(m("uv-column-notice"),M),s=P(m("uv-row-notice"),H),r=$;return n.show?(g(),h(r,{key:0,class:"uv-notice-bar",style:_([{backgroundColor:t.bgColor},t.$uv.addStyle(t.customStyle)])},{default:y((()=>["column"===t.direction||"row"===t.direction&&t.step?(g(),h(a,{key:0,color:t.color,bgColor:t.bgColor,text:t.text,mode:t.mode,step:t.step,icon:t.icon,"disable-touch":t.disableTouch,"disable-scroll":t.disableScroll,fontSize:t.fontSize,duration:t.duration,onClose:l.close,onClick:l.click,onChange:l.change},null,8,["color","bgColor","text","mode","step","icon","disable-touch","disable-scroll","fontSize","duration","onClose","onClick","onChange"])):(g(),h(s,{key:1,color:t.color,bgColor:t.bgColor,text:t.text,mode:t.mode,fontSize:t.fontSize,speed:t.speed,url:t.url,linkType:t.linkType,icon:t.icon,onClose:l.close,onClick:l.click},null,8,["color","bgColor","text","mode","fontSize","speed","url","linkType","icon","onClose","onClick"]))])),_:1},8,["style"])):S("",!0)}],["__scopeId","data-v-d0b0fe18"]]);const A=j({name:"uv-gap",mixins:[u,d,{props:{bgColor:{type:String,default:"transparent"},height:{type:[String,Number],default:20},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0},...null==(s=null==(a=uni.$uv)?void 0:a.props)?void 0:s.gap}}],computed:{gapStyle(){const t={backgroundColor:this.bgColor,height:this.$uv.addUnit(this.height),marginTop:this.$uv.addUnit(this.marginTop),marginBottom:this.$uv.addUnit(this.marginBottom)};return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,e,o,i,n,l){const a=$;return g(),h(a,{class:"uv-gap",style:_([l.gapStyle])},null,8,["style"])}]]);const F=j({name:"uv-toast",mixins:[u,d],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!0,loading:!1,zIndex:10090},tmpConfig:{},rect:{},opacity:0}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?this.$uv.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",zIndex:this.tmpConfig.zIndex,backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},aniStyle(){return{position:"fixed",zIndex:this.tmpConfig.zIndex}},contentStyle(){this.$uv.sys();const t={position:"fixed",top:"50%",left:"50%"};let e=0;return"top"===this.tmpConfig.position?t.top="25%":"bottom"===this.tmpConfig.position?t.top="75%":e="-50%",t.transform=`translate(-50%,${e})`,t}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=e=>this.show({type:t,message:e})}))},methods:{show(t){this.tmpConfig=this.$uv.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},queryRect(){return new Promise((t=>{const e=this.$refs.uvToastContent;dom.getComponentRect(e,(e=>{t(e.size)}))}))},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},unmounted(){this.clearTimer()}},[["render",function(t,e,o,i,n,l){const a=P(m("uv-overlay"),U),s=P(m("uv-loading-icon"),R),r=P(m("uv-icon"),p),c=P(m("uv-gap"),A),u=z,d=$,f=P(m("uv-transition"),D);return g(),h(d,{class:"uv-toast"},{default:y((()=>[v(a,{show:n.isShow&&n.tmpConfig.overlay,"custom-style":l.overlayStyle},null,8,["show","custom-style"]),v(f,{show:n.isShow,mode:"fade","custom-style":l.aniStyle},{default:y((()=>[v(d,{class:B(["uv-toast__content",["uv-type-"+n.tmpConfig.type,"loading"===n.tmpConfig.type||n.tmpConfig.loading?"uv-toast__content--loading":""]]),ref:"uvToastContent",style:_([l.contentStyle])},{default:y((()=>["loading"===n.tmpConfig.type?(g(),h(s,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==n.tmpConfig.type&&l.iconName?(g(),h(r,{key:1,name:l.iconName,size:"17",color:n.tmpConfig.type,customStyle:l.iconStyle},null,8,["name","color","customStyle"])):S("",!0),"loading"===n.tmpConfig.type||n.tmpConfig.loading?(g(),h(c,{key:2,height:"12",bgColor:"transparent"})):S("",!0),v(u,{class:B(["uv-toast__content__text",["uv-toast__content__text--"+n.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:y((()=>[k(w(n.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-618db97c"]]);const G=j({name:"uv-loading-page",mixins:[u,d,{props:{loadingText:{type:[String,Number],default:""},image:{type:String,default:""},loadingMode:{type:String,default:"circle"},loading:{type:Boolean,default:!1},bgColor:{type:String,default:"#fff"},color:{type:String,default:"#C8C8C8"},fontSize:{type:[String,Number],default:16},iconSize:{type:[String,Number],default:26},loadingColor:{type:String,default:"#C8C8C8"},duration:{type:[String,Number],default:300},...null==(c=null==(r=uni.$uv)?void 0:r.props)?void 0:c.loadingPage}}],data:()=>({showLoading:!1,opacity:1}),watch:{loading:{immediate:!0,handler(t){t?(this.showLoading=!0,this.opacity=1):(this.opacity=0,this.$nextTick((()=>{this.$uv.sleep(this.duration).then((t=>{this.showLoading=!1}))})))}}},computed:{loadingPageStyle(){const t={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",zIndex:"999","background-color":this.bgColor,"transition-duration":`${this.duration}ms`,opacity:this.opacity};return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,e,o,i,n,l){const a=I,s=P(m("uv-loading-icon"),R),r=z,c=$;return n.showLoading?(g(),h(c,{key:0,class:"uv-loading-page uv-flex-column",style:_([l.loadingPageStyle])},{default:y((()=>[""!=t.image?(g(),h(a,{key:0,src:t.image,class:"uv-loading-page__img",mode:"widthFit",style:_([{width:t.$uv.addUnit(t.iconSize),height:t.$uv.addUnit(t.iconSize)}])},null,8,["src","style"])):(g(),h(s,{key:1,mode:t.loadingMode,size:t.iconSize,color:t.loadingColor},null,8,["mode","size","color"])),f(t.$slots,"default",{},(()=>[v(r,{class:"uv-loading-page__text",style:_([{fontSize:t.$uv.addUnit(t.fontSize),color:t.color}])},{default:y((()=>[k(w(t.loadingText),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style"])):S("",!0)}],["__scopeId","data-v-812c64fa"]]);export{L as _,F as a,G as b};
